<div class=admin><h2 ng-show=!$root.ui.admin.viewLeads ng-click="$root.ui.admin.viewLeads =! $root.ui.admin.viewLeads">+ View Leads</h2><h2 ng-show=$root.ui.admin.viewLeads ng-click="$root.ui.admin.viewLeads =! $root.ui.admin.viewLeads">- View Leads</h2><div ng-show=$root.ui.admin.viewLeads><div ng-repeat="(key,lead) in data.data.dataArr.$getRecord('leads')" ng-style=api.style.viewLeads><span ng-repeat="(key, val) in lead" ng-style=api.style.flex.parent><h5 ng-show="key === 'date'">{{val | date}}</h5><div ng-repeat="(key, val) in val" ng-show="$parent.key !== 'date'" ng-style=api.style.flex.child><i ng-style=api.style.viewLeadsItem>{{key}}: <b>{{val}}</b></i></div></span><div><a ng-click="showRemove = !showRemove" ng-show=!showRemove>Remove</a> <button ng-show=showRemove ng-click="data.methods.remove('leads', key)">Remove</button> <a ng-show=showRemove ng-click="showRemove = !showRemove">Cancel</a></div></div></div><h2 ng-show=!$root.ui.admin.text ng-click="$root.ui.admin.text =! $root.ui.admin.text">+ Text</h2><h2 ng-show=$root.ui.admin.text ng-click="$root.ui.admin.text =! $root.ui.admin.text">- Text</h2><div ng-show=$root.ui.admin.text><div ng-repeat="(key, text) in data.data.dataArr.$getRecord('texts')"><label for=text-{{text.type}}><h3>{{text.type}}</h3><textarea style="width:100%; padding:1em" id=text-{{text.type}} ng-model=text.text></textarea></label> <button ng-if="text.text.length >= 4" ng-click="data.methods.save('texts', key, text)">save</button></div></div><h2 ng-show=!$root.ui.admin.providers ng-click="$root.ui.admin.providers =! $root.ui.admin.providers ;">+ Providers</h2><h2 ng-show=$root.ui.admin.providers ng-click="$root.ui.admin.providers =! $root.ui.admin.providers ;">- Providers</h2><div ng-show=$root.ui.admin.providers><h3 ng-show=!$root.ui.admin.addProviders ng-click="$root.ui.admin.addProviders =! $root.ui.admin.addProviders">+ Add Provider</h3><h3 ng-show=$root.ui.admin.addProviders ng-click="$root.ui.admin.addProviders =! $root.ui.admin.addProviders">- Add Provider</h3><form ng-show=$root.ui.admin.addProviders name=newProvider ng-init="provider = {}" ng-submit="data.methods.create('providers', provider.name); provider = {}"><label for=newProvider><input type=text ng-model=provider.name id=newProvider></label> <button type=submit><h2>Add Provider</h2></button></form><h3 ng-show=!$root.ui.admin.editProviders ng-click="$root.ui.admin.editProviders =! $root.ui.admin.editProviders">+ Edit Providers</h3><h3 ng-show=$root.ui.admin.editProviders ng-click="$root.ui.admin.editProviders =! $root.ui.admin.editProviders">- Edit Providers</h3><div ng-show=$root.ui.admin.editProviders><div ng-repeat="(key,provider) in data.data.dataArr.$getRecord('providers')"><input type=text ng-model=provider ng-change="data.methods.save('providers', key, provider)"> <a ng-click="showRemove = !showRemove" ng-show=!showRemove>Remove</a> <button ng-show=showRemove ng-click="data.methods.remove('providers', key)">Remove</button> <a ng-show=showRemove ng-click="showRemove = !showRemove">Cancel</a></div></div></div><h2 ng-show=!$root.ui.admin.plans ng-click="$root.ui.admin.plans =! $root.ui.admin.plans ;">+ Plans</h2><h2 ng-show=$root.ui.admin.plans ng-click="$root.ui.admin.plans =! $root.ui.admin.plans ;">- Plans</h2><div ng-show=$root.ui.admin.plans><h3 ng-show=!$root.ui.admin.addPlan ng-click="$root.ui.admin.addPlan = !$root.ui.admin.addPlan">+ Add Plan</h3><h3 ng-show=$root.ui.admin.addPlan ng-click="$root.ui.admin.addPlan = !$root.ui.admin.addPlan">- Add Plan</h3><form ng-show=$root.ui.admin.addPlan name=newPlan ng-init="plan = {}" ng-submit="data.methods.create('plans', plan); plan = {}"><label for=provider>Provider<select name=provider id=provider ng-model=plan.provider><option ng-repeat="provider in data.data.dataArr.$getRecord('providers')" value={{provider}}>{{provider}}</option></select></label><hr><label for=name>Name <input id=name type=text ng-model=plan.name></label><hr><label for=price>Price <input id=price type=text ng-model=plan.price></label><hr><label for=data>Data <input id=data type=number ng-model=plan.data>MB</label><hr><label for=minCalls>Min Calls <input id=minCalls type=number ng-model=plan.calls.min></label><hr><label for=maxCalls>Max Calls <input id=maxCalls type=number ng-model=plan.calls.max></label><hr><label for=sms>Messages <input id=sms type=number ng-model=plan.sms></label><hr><label for=url>Link <input id=url type=text ng-model=plan.url></label> <button type=submit><h2>Add Plan</h2></button></form><h3 ng-show=!$root.ui.admin.editPlan ng-click="$root.ui.admin.editPlan = !$root.ui.admin.editPlan">+ Edit Plans</h3><h3 ng-show=$root.ui.admin.editPlan ng-click="$root.ui.admin.editPlan = !$root.ui.admin.editPlan">- Edit Plans</h3><div ng-show=$root.ui.admin.editPlan><div ng-repeat="(key, plan) in data.data.dataArr.$getRecord('plans')"><p ng-show=!showPlan ng-click="showPlan = !showPlan">+ {{plan.provider}} / {{plan.name}}</p><p ng-show=showPlan ng-click="showPlan = !showPlan">- {{plan.provider}} / {{plan.name}}</p><form ng-show=showPlan name=plan{{key}} ng-submit="data.methods.save('plans', key, plan)"><label for=plan{{key}}-provider>Provider<select name=planProvider id=plan{{key}}-provider ng-model=plan.provider><option ng-repeat="provider in data.data.dataArr.$getRecord('providers')" value={{provider}}>{{provider}}</option></select></label> <label for=plan{{key}}-name>Name <input type=text ng-model=plan.name id=plan{{key}}-name></label><hr><label for=plan{{key}}-price>Price <input type=text ng-model=plan.price id=plan{{key}}-price></label><hr><label for=plan{{key}}-data>Data <input id=plan{{key}}-data type=number ng-model=plan.data>MB</label><hr><label for=plan{{key}}-minCalls>Min Calls <input id=plan{{key}}-minCalls type=number ng-model=plan.calls.min></label><hr><label for=plan{{key}}-maxCalls>Max Calls <input id=plan{{key}}-maxCalls type=number ng-model=plan.calls.max></label><hr><label for=plan{{key}}-sms>Messages <input id=plan{{key}}-sms type=number ng-model=plan.sms></label><hr><label for=plan{{key}}-url>Link <input id=plan{{key}}-url type=text ng-model=plan.url></label> <button type=submit><h2>Save Plan</h2></button></form><a ng-click="removePlan = !removePlan" ng-show=!removePlan>Remove</a> <button ng-show=removePlan ng-click="data.methods.remove('plans', key)">Remove</button> <a ng-show=removePlan ng-click="removePlan = !removePlan">Cancel</a></div></div></div><h2 ng-show=!$root.ui.admin.showUser ng-click="$root.ui.admin.showUser = !$root.ui.admin.showUser">+ Current User Data</h2><h2 ng-show=$root.ui.admin.showUser ng-click="$root.ui.admin.showUser = !$root.ui.admin.showUser">- Current User Data</h2><div ng-show=$root.ui.admin.showUser><div ng-repeat="(key, section) in api.models"><h5>{{key}}</h5><div ng-repeat="(key, use) in section"><b>{{key}}:</b>{{use}}</div></div></div><h2>Email Test</h2><form name=emailForm><div class=group><input type=email name=to ng-model=email.to ng-required=true> <label>To</label></div><div><input type=email name=from ng-model=email.from ng-required=true> <label>From</label></div><div><input type=text name=subject ng-model=email.subject ng-required=true> <label>Subject</label></div><div><textarea ng-model=email.text name=text placeholder="Enter Text Here.."></textarea></div><button id=emailSubmitBn type=submit ng-click=api.methods.submitEmail(email)>Submit</button></form></div>